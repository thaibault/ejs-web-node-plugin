'use strict';if(typeof module!=='undefined'&&module!==null&&eval('typeof require')!=='undefined'&&eval('require')!==null&&'main'in eval('require')&&eval('typeof require.main')!=='undefined'&&eval('require.main')!==null){var ORIGINAL_MAIN_MODULE=module;if(module!==eval('require.main')&&'paths'in module&&'paths'in eval('require.main')&&typeof __dirname!=='undefined'&&__dirname!==null)module.paths=eval('require.main.paths').concat(module.paths.filter(function(path){return eval('require.main.paths').includes(path)}))};if(typeof window==='undefined'||window===null)var window=(typeof global==='undefined'||global===null)?{}:global;!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("@babel/runtime/helpers/construct"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("clientnode"),require("ejs"),require("fs/promises"),require("fs"),require("path"));else if("function"==typeof define&&define.amd)define(["@babel/runtime/helpers/construct","@babel/runtime/helpers/extends","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator","clientnode","ejs","fs/promises","fs","path"],r);else{var t="object"==typeof exports?r(require("@babel/runtime/helpers/construct"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("clientnode"),require("ejs"),require("fs/promises"),require("fs"),require("path")):r(e["@babel/runtime/helpers/construct"],e["@babel/runtime/helpers/extends"],e["@babel/runtime/helpers/asyncToGenerator"],e["@babel/runtime/regenerator"],e.clientnode,e.ejs,e["fs/promises"],e.fs,e.path);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,((e,r,t,n,a,s,o,i,c)=>(()=>{"use strict";var l=[,r=>{r.exports=e},e=>{e.exports=r},e=>{e.exports=t},e=>{e.exports=n},e=>{e.exports=a},e=>{e.exports=s},e=>{e.exports=o},e=>{e.exports=i},e=>{e.exports=c}],u={};function p(e){var r=u[e];if(void 0!==r)return r.exports;var t=u[e]={exports:{}};return l[e](t,t.exports,p),t.exports}p.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return p.d(r,{a:r}),r},p.d=(e,r)=>{for(var t in r)p.o(r,t)&&!p.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},p.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return(()=>{p.r(d),p.d(d,{Template:()=>w,default:()=>k});var e=p(1),r=p.n(e),t=p(2),n=p.n(t),a=p(3),s=p.n(a),o=p(4),i=p.n(o),c=p(5),l=p.n(c),u=p(6),f=p.n(u),m=p(7),b=p.n(m),h=p(8),v=p.n(h),x=p(9),y=p.n(x);function g(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var w=function(){function e(){}return e.postConfigurationHotLoaded=function(){var e=s()(i().mark((function e(r){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=r.configuration.ejs)||!t.renderAfterConfigurationUpdates||null==(n=r.services.ejs)||!n.render){e.next=3;break}return e.next=3,r.services.ejs.render(r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.preLoadService=function(){var r=s()(i().mark((function r(t){var n,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.configuration.ejs,(a=t.services).ejs={entryFiles:null,templates:{},getEntryFiles:e.getEntryFiles.bind(e),render:e.render.bind(e),renderFactory:e.renderFactory.bind(e)},!n.renderAfterConfigurationUpdates){r.next=5;break}return r.next=5,a.ejs.render(t);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.shouldExit=function(){var e=s()(i().mark((function e(r){var t,n,a,o,c,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.configuration.ejs.locations,a=r.services,null!=(t=a.ejs)&&t.templates){e.next=3;break}return e.abrupt("return");case 3:for(o=[].concat(n.inPlaceReplacements),c=[],u=function(){var e=d[p];o.includes(e)||c.push(new Promise((function(r,t){var n=e.substring(0,e.length-y().extname(e).length),a=!1;s()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().isFile(n);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(e.t0);case 9:if(!a){e.next=21;break}return e.prev=10,e.next=13,b().unlink(n);case 13:r(!0),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),t(e.t1);case 19:e.next=22;break;case 21:r(!1);case 22:case"end":return e.stop()}}),e,null,[[0,6],[10,16]])})))()})))},p=0,d=Object.keys(a.ejs.templates);p<d.length;p++)u();return e.next=9,Promise.all(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.getEntryFiles=function(){var e=s()(i().mark((function e(r){var t,n,a,s,o,c,u,p,d,f,m,b,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.configuration,n=r.plugins,a=r.pluginAPI,!(s=r.services.ejs).entryFiles||t.ejs.reloadEntryFiles){e.next=3;break}return e.abrupt("return",s.entryFiles);case 3:o=[].concat(t.ejs.extensions),s.entryFiles=new Set,c=g(a.determineLocations(t,t.ejs.locations.include));case 6:if((u=c()).done){e.next=12;break}return p=u.value,e.next=10,l().walkDirectoryRecursively(p,(function(e){var r;return!(e.name.startsWith(".")||a.isInLocations(t,n,e.path,t.ejs.locations.exclude))&&void(null!=(r=e.stats)&&r.isFile()&&o.some((function(r){return e.name.endsWith(r)}))&&s.entryFiles.add(e.path))}));case 10:e.next=6;break;case 12:for(d=g([].concat(t.ejs.locations.inPlaceReplacements));!(f=d()).done;)m=f.value,s.entryFiles.add(m);for(b=g(s.entryFiles);!(h=b()).done;)v=h.value,s.templates[v]=null;return e.abrupt("return",s.entryFiles);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.render=function(){var r=s()(i().mark((function r(t){var a,o,u,p,d,m,h,x,j,w,k,F,P,E,S,q,T,O,A,C,R,_,I,N,G;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o=(a=t).configuration,u=a.data,p=a.pluginAPI,d=a.plugins,m=a.services,h=l().extend(!0,{basePath:o.core.context.path},o.ejs.scope.plain,(null==u?void 0:u.scope)||{}),x=new Date,j=g(["evaluation","execution"]);!(w=j()).done;)for(k=w.value,F=o.ejs.scope[k],P=0,E=Object.entries(F);P<E.length;P++)S=E[P],q=S[0],T=S[1],O={configuration:l().copy(o,-1,!0),currentPath:process.cwd(),fileSystem:b(),now:x,nowUTCTimestamp:l().numberGetUTCTimestamp(x),parser:f(),path:y(),PluginAPI:p,plugins:d,require:c.currentRequire,scope:h,synchronousFileSystem:v(),template:e,Tools:l(),webNodePath:"/"},(A=l().stringEvaluate(T,O,"execution"===k)).error||(h[q]=A.result);if(r.t0=n(),r.t1={},r.t2=t,r.t3=null==u?void 0:u.entryFiles,r.t3){r.next=12;break}return r.next=11,m.ejs.getEntryFiles(t);case 11:r.t3=r.sent;case 12:return r.t4=r.t3,r.t5=h,r.t6={entryFiles:r.t4,scope:r.t5},r.t7={data:r.t6,hook:"preEjsRender"},t=(0,r.t0)(r.t1,r.t2,r.t7),r.next=19,p.callStack(t);case 19:for(C=r.sent,h=C.scope,m.ejs.entryFiles=C.entryFiles,R=[].concat(o.ejs.locations.inPlaceReplacements),_=[],I=function(){var e=G.value;_.push(new Promise((function(r,t){var a=n()({},h),c=R.includes(e),u=c?e:e.substring(0,e.length-y().extname(e).length);s()(i().mark((function s(){var p,f,h;return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.t0=c&&o.ejs.cacheInPlaceReplacements,s.t0){s.next=8;break}if(s.t1=!c&&o.ejs.cache,!s.t1){s.next=7;break}return s.next=6,l().isFile(u);case 6:s.t1=s.sent;case 7:s.t0=s.t1;case 8:if(!s.t0){s.next=13;break}r(u),s.next=42;break;case 13:p=n()({},l().copy(o.ejs.options),{filename:y().relative(a.basePath,e)}),a.options||(a.options=p),a.plugins||(a.plugins=d),f=m.ejs.renderFactory(m,o,a,p),h="",s.prev=18,h=f(e),s.next=28;break;case 22:if(s.prev=22,s.t2=s.catch(18),!c){s.next=27;break}return s.abrupt("return",r(u));case 27:throw s.t2;case 28:if(!h){s.next=40;break}return s.prev=29,s.next=32,b().writeFile(u,h,{encoding:o.core.encoding,flag:"w",mode:438});case 32:r(u),s.next=38;break;case 35:s.prev=35,s.t3=s.catch(29),t(s.t3);case 38:s.next=42;break;case 40:r(u);case 42:case"end":return s.stop()}}),s,null,[[18,22],[29,35]])})))()})))},N=g(m.ejs.entryFiles);!(G=N()).done;)I();return r.next=28,Promise.all(_);case 28:return r.next=30,p.callStack(n()({},t,{hook:"postEjsRender"}));case 30:return r.abrupt("return",h);case 31:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.renderFactory=function(e,t,a,s){void 0===a&&(a={}),void 0===s&&(s={}),a.basePath||(a.basePath=t.core.context.path),s.preCompiledTemplateFileExtensions||(s.preCompiledTemplateFileExtensions=[".js"]),s.encoding||(s.encoding="utf-8");var o=[].concat(t.ejs.locations.inPlaceReplacements);return function(i,u){void 0===u&&(u={});var p=l().copy(s);delete p.client,p=l().extend(!0,p,u.options||{}),i=y().resolve(a.basePath,i),p.filename=y().relative(a.basePath,i);var d=n()({},a);d.basePath=y().dirname(i),d.options=p,d.scope=d,l().extend(d,u),d.include=e.ejs.renderFactory(e,t,d,p);for(var m,b,h=Object.keys(d),x=h.map((function(e){return l().stringConvertToValidVariableName(e)})),j=null,w=g([""].concat(t.ejs.extensions));!(m=w()).done;)if(b=m.value,l().isFileSync(i+b)){j=i+b;break}if(j){if(t.ejs.reloadSourceContent&&!o.includes(i)||!Object.prototype.hasOwnProperty.call(e.ejs.templates,j)||!e.ejs.templates[j])if(p.preCompiledTemplateFileExtensions.includes(y().extname(j)))try{e.ejs.templates[j]=(0,c.currentRequire)(j)}catch(e){throw new Error('Error occurred during loading script module: "'+j+'": '+l().represent(e))}else{var k;try{k=v().readFileSync(j,{encoding:p.encoding})}catch(e){throw new Error('Error occurred during loading template file "'+j+'" from file system: '+l().represent(e))}(p.strict||!p._with)&&(p.client=!0);try{if(e.ejs.templates[j]=f().compile(k,p),p.strict||!p._with){for(var F=p.localsName||"locals";x.includes(F);)F="_"+F;e.ejs.templates[j]=r()(Function,x.concat([localsName,"return "+e.ejs.templates[j].toString()+"("+localsName+","+localsName+".escapeFn,include,"+localsName+".rethrow)"]))}}catch(e){throw new Error('Error occurred during compiling template file "'+j+'" with base path "'+d.basePath+'": '+l().represent(e))}}var P="";try{var E;P=!p.strict&&p._with?e.ejs.templates[j](d,d.escapeFn,d.include):(E=e.ejs.templates)[j].apply(E,h.map((function(e){return d[e]})).concat(p._with?[]:d))}catch(e){var S="";try{S="scope "+l().represent(d)+" against"}catch(e){}throw new Error("Error occurred during running template "+S+'file "'+j+'": '+l().represent(e))}return P.replace(/<script +processing-workaround *(?:= *(?:" *"|' *') *)?>([\s\S]*?)<\/ *script *>/gi,"$1").replace(/<script +processing(-+)-workaround *(?:= *(?:" *"|' *') *)?>([\s\S]*?)<\/ *script *>/gi,"<script processing$1workaround>$2<\/script>")}throw new Error('Given template file "'+p.filename+'" couldn\'t be resolved (with known extensions: "'+[""].concat(t.ejs.extensions).join('", "')+'}") in "'+a.basePath+'".')}},e}();const k=w})(),d})()));