'use strict';if(typeof module!=='undefined'&&module!==null&&eval('typeof require')!=='undefined'&&eval('require')!==null&&'main'in eval('require')&&eval('typeof require.main')!=='undefined'&&eval('require.main')!==null){var ORIGINAL_MAIN_MODULE=module;if(module!==eval('require.main')&&'paths'in module&&'paths'in eval('require.main')&&typeof __dirname!=='undefined'&&__dirname!==null)module.paths=eval('require.main.paths').concat(module.paths.filter(function(path){return eval('require.main.paths').includes(path)}))};if(typeof window==='undefined'||window===null)var window=(typeof global==='undefined'||global===null)?{}:global;!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("@babel/runtime/helpers/construct"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("clientnode"),require("ejs"),require("fs/promises"),require("fs"),require("path"));else if("function"==typeof define&&define.amd)define(["@babel/runtime/helpers/construct","@babel/runtime/helpers/extends","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator","clientnode","ejs","fs/promises","fs","path"],r);else{var t="object"==typeof exports?r(require("@babel/runtime/helpers/construct"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("clientnode"),require("ejs"),require("fs/promises"),require("fs"),require("path")):r(e["@babel/runtime/helpers/construct"],e["@babel/runtime/helpers/extends"],e["@babel/runtime/helpers/asyncToGenerator"],e["@babel/runtime/regenerator"],e.clientnode,e.ejs,e["fs/promises"],e.fs,e.path);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,((e,r,t,n,a,o,s,i,c)=>(()=>{"use strict";var l=[,r=>{r.exports=e},e=>{e.exports=r},e=>{e.exports=t},e=>{e.exports=n},e=>{e.exports=a},e=>{e.exports=o},e=>{e.exports=s},e=>{e.exports=i},e=>{e.exports=c}],u={};function p(e){var r=u[e];if(void 0!==r)return r.exports;var t=u[e]={exports:{}};return l[e](t,t.exports,p),t.exports}p.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return p.d(r,{a:r}),r},p.d=(e,r)=>{for(var t in r)p.o(r,t)&&!p.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},p.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return(()=>{p.r(d),p.d(d,{Template:()=>j,default:()=>k});var e=p(1),r=p.n(e),t=p(2),n=p.n(t),a=p(3),o=p.n(a),s=p(4),i=p.n(s),c=p(5),l=p.n(c),u=p(6),f=p.n(u),m=p(7),b=p.n(m),h=p(8),v=p.n(h),y=p(9),x=p.n(y);function g(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return w(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var j=function(){function e(){}return e.postConfigurationLoaded=function(){var r=o()(i().mark((function r(t,n,a,o,s){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.ejs.renderAfterConfigurationUpdates){r.next=3;break}return r.next=3,e.render(null,t,o,s);case 3:return r.abrupt("return",t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.preLoadService=function(r){return r.ejs={getEntryFiles:e.getEntryFiles.bind(e),render:e.render.bind(e),renderFactory:e.renderFactory.bind(e)},r},e.shouldExit=function(){var r=o()(i().mark((function r(t,n){var a,s,c,u,p;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a=[].concat(n.ejs.locations.inPlaceReplacements),s=[],c=function(){var e=p[u];a.includes(e)||s.push(new Promise((function(r,t){var n=e.substring(0,e.length-x().extname(e).length),a=!1;o()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().isFile(n);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(e.t0);case 9:if(!a){e.next=21;break}return e.prev=10,e.next=13,b().unlink(n);case 13:r(!0),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),t(e.t1);case 19:e.next=22;break;case 21:r(!1);case 22:case"end":return e.stop()}}),e,null,[[0,6],[10,16]])})))()})))},u=0,p=Object.keys(e.templates);u<p.length;u++)c();return r.next=6,Promise.all(s);case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.getEntryFiles=function(){var r=o()(i().mark((function r(t,n,a){var o,s,c,u,p,d,f,m,b,h;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.entryFiles||t.ejs.reloadEntryFiles){r.next=2;break}return r.abrupt("return",e.entryFiles);case 2:o=[].concat(t.ejs.extensions),e.entryFiles=new Set,s=g(a.determineLocations(t,t.ejs.locations.include));case 5:if((c=s()).done){r.next=11;break}return u=c.value,r.next=9,l().walkDirectoryRecursively(u,(function(r){var s;return!(r.name.startsWith(".")||a.isInLocations(t,n,r.path,t.ejs.locations.exclude))&&void(null!=(s=r.stats)&&s.isFile()&&o.some((function(e){return r.name.endsWith(e)}))&&e.entryFiles.add(r.path))}));case 9:r.next=5;break;case 11:for(p=g([].concat(t.ejs.locations.inPlaceReplacements));!(d=p()).done;)f=d.value,e.entryFiles.add(f);for(m=g(e.entryFiles);!(b=m()).done;)h=b.value,e.templates[h]=null;return r.abrupt("return",e.entryFiles);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.render=function(){var r=o()(i().mark((function r(t,a,s,u){var p,d,m,h,y,w,j,k,F,P,E,S,q,T,O,C,R,_;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(p=l().extend(!0,{basePath:a.core.context.path},a.ejs.scope.plain,t||{}),d=new Date,m=g(["evaluation","execution"]);!(h=m()).done;)for(y=h.value,w=a.ejs.scope[y],j=0,k=Object.entries(w);j<k.length;j++)F=k[j],P=F[0],E=F[1],S={configuration:l().copy(a,-1,!0),currentPath:process.cwd(),fileSystem:b(),now:d,nowUTCTimestamp:l().numberGetUTCTimestamp(d),parser:f(),path:x(),PluginAPI:u,plugins:s,require:c.currentRequire,scope:p,synchronousFileSystem:v(),template:e,Tools:l(),webNodePath:"/"},(q=l().stringEvaluate(E,S,"execution"===y)).error||(p[P]=q.result);return r.t0=u,r.t1=s,r.t2=a,r.next=8,e.getEntryFiles(a,s,u);case 8:return r.t3=r.sent,r.t4=p,r.next=12,r.t0.callStack.call(r.t0,"preEjsRender",r.t1,r.t2,r.t3,r.t4);case 12:for(e.entryFiles=r.sent,T=[].concat(a.ejs.locations.inPlaceReplacements),O=[],C=function(){var r=_.value;O.push(new Promise((function(t,c){var u=n()({},p),d=T.includes(r),f=d?r:r.substring(0,r.length-x().extname(r).length);o()(i().mark((function o(){var p,m,h;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.t0=d&&a.ejs.cacheInPlaceReplacements,o.t0){o.next=8;break}if(o.t1=!d&&a.ejs.cache,!o.t1){o.next=7;break}return o.next=6,l().isFile(f);case 6:o.t1=o.sent;case 7:o.t0=o.t1;case 8:if(!o.t0){o.next=13;break}t(f),o.next=42;break;case 13:p=n()({},l().copy(a.ejs.options),{filename:x().relative(u.basePath,r)}),u.options||(u.options=p),u.plugins||(u.plugins=s),m=e.renderFactory(a,u,p),h="",o.prev=18,h=m(r),o.next=28;break;case 22:if(o.prev=22,o.t2=o.catch(18),!d){o.next=27;break}return o.abrupt("return",t(f));case 27:throw o.t2;case 28:if(!h){o.next=40;break}return o.prev=29,o.next=32,b().writeFile(f,h,{encoding:a.core.encoding,flag:"w",mode:438});case 32:t(f),o.next=38;break;case 35:o.prev=35,o.t3=o.catch(29),c(o.t3);case 38:o.next=42;break;case 40:t(f);case 42:case"end":return o.stop()}}),o,null,[[18,22],[29,35]])})))()})))},R=g(e.entryFiles);!(_=R()).done;)C();return r.next=19,Promise.all(O);case 19:return r.next=21,u.callStack("postEjsRender",s,a,p,e.entryFiles);case 21:return r.abrupt("return",r.sent);case 22:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),e.renderFactory=function(t,a,o){void 0===a&&(a={}),void 0===o&&(o={}),a.basePath||(a.basePath=t.core.context.path),o.preCompiledTemplateFileExtensions||(o.preCompiledTemplateFileExtensions=[".js"]),o.encoding||(o.encoding="utf-8");var s=[].concat(t.ejs.locations.inPlaceReplacements);return function(i,u){void 0===u&&(u={});var p=l().copy(o);delete p.client,p=l().extend(!0,p,u.options||{}),i=x().resolve(a.basePath,i),p.filename=x().relative(a.basePath,i);var d=n()({},a);d.basePath=x().dirname(i),d.options=p,d.scope=d,l().extend(d,u),d.include=e.renderFactory(t,d,p);for(var m,b,h=Object.keys(d),y=h.map((function(e){return l().stringConvertToValidVariableName(e)})),w=null,j=g([""].concat(t.ejs.extensions));!(m=j()).done;)if(b=m.value,l().isFileSync(i+b)){w=i+b;break}if(w){if(t.ejs.reloadSourceContent&&!s.includes(i)||!Object.prototype.hasOwnProperty.call(e.templates,w)||!e.templates[w])if(p.preCompiledTemplateFileExtensions.includes(x().extname(w)))try{e.templates[w]=(0,c.currentRequire)(w)}catch(e){throw new Error('Error occurred during loading script module: "'+w+'": '+l().represent(e))}else{var k;try{k=v().readFileSync(w,{encoding:p.encoding})}catch(e){throw new Error('Error occurred during loading template file "'+w+'" from file system: '+l().represent(e))}(p.strict||!p._with)&&(p.client=!0);try{if(e.templates[w]=f().compile(k,p),p.strict||!p._with){for(var F=p.localsName||"locals";y.includes(F);)F="_"+F;e.templates[w]=r()(Function,y.concat([localsName,"return "+e.templates[w].toString()+"("+localsName+","+localsName+".escapeFn,include,"+localsName+".rethrow)"]))}}catch(e){throw new Error('Error occurred during compiling template file "'+w+'" with base path "'+d.basePath+'": '+l().represent(e))}}var P="";try{var E;P=!p.strict&&p._with?e.templates[w](d,d.escapeFn,d.include):(E=e.templates)[w].apply(E,h.map((function(e){return d[e]})).concat(p._with?[]:d))}catch(e){var S="";try{S="scope "+l().represent(d)+" against"}catch(e){}throw new Error("Error occurred during running template "+S+'file "'+w+'": '+l().represent(e))}return P.replace(/<script +processing-workaround *(?:= *(?:" *"|' *') *)?>([\s\S]*?)<\/ *script *>/gi,"$1").replace(/<script +processing(-+)-workaround *(?:= *(?:" *"|' *') *)?>([\s\S]*?)<\/ *script *>/gi,"<script processing$1workaround>$2<\/script>")}throw new Error('Given template file "'+p.filename+'" couldn\'t be resolved (with known extensions: "'+[""].concat(t.ejs.extensions).join('", "')+'}") in "'+a.basePath+'".')}},e}();j.entryFiles=void 0,j.templates={};const k=j})(),d})()));